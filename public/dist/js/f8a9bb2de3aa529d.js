"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[661],{4524:(e,t,r)=>{r.d(t,{J:()=>o});const o=(0,r(9895).fo)("FacebookLogin",{web:()=>r.e(303).then(r.bind(r,8588)).then((e=>new e.FacebookLoginWeb))})},1516:(e,t,r)=>{r.d(t,{e:()=>o});const o=(0,r(9895).fo)("GoogleAuth",{web:()=>r.e(60).then(r.bind(r,7060)).then((e=>new e.GoogleAuthWeb))})},661:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Q});var o=r(4984),n={class:"flex flex-col md:flex-row h-screen"},s=(0,o.createElementVNode)("div",{class:"hidden md:block w-full md:w-7/12 bg-slate-900"}," hi ",-1),a={class:"flex justify-center md:justify-start items-center w-full md:w-5/12 h-full"},l={class:"block space-y-4 pl-16 md:pl-24 pr-16 md:pr-32"},c=(0,o.createElementVNode)("div",{class:"block space-y-2"},[(0,o.createElementVNode)("h2",{class:"text-lg font-bold"},"Login"),(0,o.createElementVNode)("p",{class:"text-sm font-semibold text-slate-600"},"Daftarkan diri anda dan mulai gunakan layanan pesan antar dari kami segera.")],-1),i={class:"flex justify-center items-center space-x-3"},d=[(0,o.createElementVNode)("img",{src:"/image/page/google-logo.png",alt:"Google logo",class:"w-4"},null,-1),(0,o.createElementVNode)("h6",{class:"text-xs font-bold truncate"},"Sign in with Google",-1)],u=[(0,o.createElementVNode)("img",{src:"/image/page/facebook-logo.png",alt:"facebook logo",class:"w-4"},null,-1),(0,o.createElementVNode)("h6",{class:"text-xs font-bold truncate"},"Sign in with Facebook",-1)],m=(0,o.createElementVNode)("div",{class:"flex justify-center items-center relative text-slate-400"},[(0,o.createElementVNode)("span",{class:"absolute top-2 w-full h-px bg-slate-300"}),(0,o.createElementVNode)("div",{class:"w-max px-3.5 text-xs text-center z-10 bg-white"},"atau Sign in dengan Email")],-1),p={key:0,class:"flex items-center space-x-2.5"},f=(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),h={class:"capitalize text-sm font-bold"},w={class:"block space-y-1.5"},x=(0,o.createElementVNode)("label",{for:"email-form",class:"text-sm font-bold"},[(0,o.createTextVNode)(" Email"),(0,o.createElementVNode)("span",{class:"text-blue-600"},"*")],-1),k=(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})])],-1),b=["innerHTML"],g={class:"block space-y-1.5"},v=(0,o.createElementVNode)("label",{for:"password-form",class:"text-sm font-bold"},[(0,o.createTextVNode)(" Password"),(0,o.createElementVNode)("span",{class:"text-blue-600"},"*")],-1),V=(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1),N={xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},E={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},y={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},C={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},B={key:0,role:"alert",class:"text-xs text-rose-500"},j={class:"flex justify-between items-center pb-1.5"},M={class:"inline-flex items-center"},F=(0,o.createElementVNode)("span",{class:"ml-2 text-sm font-semibold text-slate-700"}," Ingatkan saya ",-1),T=(0,o.createTextVNode)(" Lupa password ? "),z=(0,o.createElementVNode)("button",{type:"submit",class:"w-full px-5 py-2.5 text-sm font-semibold rounded-full text-white bg-blue-600 focus:outline-none"}," Sign in ",-1),L={class:"text-sm font-semibold"},P=(0,o.createTextVNode)(" Belum terdaftar ? "),I=(0,o.createTextVNode)("Buat Akun Sekarang");var S=r(7757),W=r.n(S),G=r(8637),_=r(2119),q=r(6252),A=r(2610),D=r(2885),K=r(9669),R=r.n(K),H=r(7936),J=r(1516),Z=r(4524);function $(e,t,r,o,n,s,a){try{var l=e[s](a),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(o,n)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var s=e.apply(t,r);function a(e){$(s,o,n,a,l,"next",e)}function l(e){$(s,o,n,a,l,"throw",e)}a(void 0)}))}}const O={middleware:"guest:user",setup:function(){var e=(0,G.oR)(),t=(0,_.yj)(),r=(0,_.tv)(),o=(0,H.useReCaptcha)(),n=o.executeRecaptcha,s=o.recaptchaLoaded,a=(0,A.qj)({form:{remember:!0,showPassword:!1},error:{status:!1,message:{errors:null,message:null}}}),l=(0,D.Ry)({email:(0,D.Z_)().required().email(),password:(0,D.Z_)().required().min(8)}),c=function(){var o=U(W().mark((function o(l){var c;return W().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,s();case 2:return o.next=4,n("login");case 4:c=o.sent,R().post("/api/user/login",l,{headers:{"g-recaptcha-response":c}}).then((function(o){var n=o.data;e.dispatch("auth/saveToken",{token:n.token,remember:a.form.remember}),r.push({path:t.redirectedFrom?t.redirectedFrom.path:"/"})})).catch((function(e){var t=e.response;a.error={status:!0,message:t.data}}));case 6:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}(),i=function(){var o=U(W().mark((function o(){var n;return W().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,J.e.signIn();case 3:if(!(n=o.sent).id){o.next=10;break}if(void 0!==n.authentication.accessToken){o.next=9;break}return o.next=8,J.e.refresh();case 8:n=o.sent;case 9:R().post("/api/user/auth/social/google",{token:n.authentication.accessToken}).then((function(o){var n=o.data;e.dispatch("auth/saveToken",{token:n.results.token,remember:!0}),r.push({path:t.redirectedFrom?t.redirectedFrom.path:"/"})}));case 10:o.next=14;break;case 12:o.prev=12,o.t0=o.catch(0);case 14:case"end":return o.stop()}}),o,null,[[0,12]])})));return function(){return o.apply(this,arguments)}}(),d=function(){var o=U(W().mark((function o(){var n;return W().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Z.J.login({permissions:["email","user_photos","user_gender"]});case 2:(n=o.sent).accessToken&&R().post("/api/user/auth/social/facebook",{token:n.accessToken.token}).then((function(o){var n=o.data;e.dispatch("auth/saveToken",{token:n.results.token,remember:!0}),r.push({path:t.redirectedFrom?t.redirectedFrom.path:"/"})}));case 4:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();return(0,q.bv)(U(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J.e.initialize(),e.next=3,Z.J.initialize({appId:"1871992282993613"});case 3:case"end":return e.stop()}}),e)})))),{state:a,schema:l,onLogin:c,signInWithGoogle:i,signInWithFacebook:d}}};const Q=(0,r(3744).Z)(O,[["render",function(e,t,r,S,W,G){var _,q=(0,o.resolveComponent)("Field"),A=(0,o.resolveComponent)("ErrorMessage"),D=(0,o.resolveComponent)("router-link"),K=(0,o.resolveComponent)("Form");return(0,o.openBlock)(),(0,o.createElementBlock)("div",n,[s,(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",l,[c,(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("button",{class:"flex justify-center space-x-1 w-full border rounded-full px-3 py-2.5 border-slate-300 focus:outline-none",onClick:t[0]||(t[0]=function(){return S.signInWithGoogle&&S.signInWithGoogle.apply(S,arguments)})},d),(0,o.createElementVNode)("button",{class:"flex justify-center space-x-1 w-full border rounded-full px-3 py-2.5 border-slate-300 focus:outline-none",onClick:t[1]||(t[1]=function(){return S.signInWithFacebook&&S.signInWithFacebook.apply(S,arguments)})},u)]),m,S.state.error.status?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[f,(0,o.createElementVNode)("h6",h,(0,o.toDisplayString)(void 0!==S.state.error.message.errors.message?null===(_=S.state.error.message.errors)||void 0===_?void 0:_.message[0]:S.state.error.message.message),1)])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(K,{onSubmit:S.onLogin,"validation-schema":S.schema,class:"block space-y-3.5 pb-3"},{default:(0,o.withCtx)((function(r){var n,s,a,l,c=r.errors;return[(0,o.createElementVNode)("div",w,[x,(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([c.email||null!==(n=S.state.error.message.errors)&&void 0!==n&&n.email?"border-rose-500":"border-slate-300","flex items-center space-x-2 px-5 py-3 rounded-full border"])},[k,(0,o.createVNode)(q,{onKeydown:function(e){var t;return null===(t=S.state.error.message)||void 0===t||delete t.errors.email},name:"email",type:"email",placeholder:"mail@website.com",class:"w-full text-xs font-semibold bg-transparent placeholder-slate-500 focus:outline-none",id:"email-form"},null,8,["onKeydown"])],2),(0,o.createVNode)(A,{name:"email",class:"text-xs text-rose-500"}),null!==(s=S.state.error.message.errors)&&void 0!==s&&s.email?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,innerHTML:S.state.error.message.errors.email[0],role:"alert",class:"text-xs text-rose-500"},null,8,b)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",g,[v,(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([c.password||null!==(a=S.state.error.message.errors)&&void 0!==a&&a.password?"border-rose-500":"border-slate-300","flex items-center space-x-2 px-5 py-3 rounded-full border"])},[V,(0,o.createVNode)(q,{onKeydown:function(e){var t;return null===(t=S.state.error.message)||void 0===t||delete t.errors.password},name:"password",type:S.state.form.showPassword?"text":"password",placeholder:"Min. 8 character",class:"w-full text-xs font-semibold bg-transparent placeholder-slate-500 focus:outline-none",id:"password-form"},null,8,["onKeydown","type"]),(0,o.createElementVNode)("button",{onClick:t[2]||(t[2]=function(e){return S.state.form.showPassword=!S.state.form.showPassword}),type:"button",class:"focus:outline-none"},[((0,o.openBlock)(),(0,o.createElementBlock)("svg",N,[S.state.form.showPassword?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("path",E)),S.state.form.showPassword?((0,o.openBlock)(),(0,o.createElementBlock)("path",y)):(0,o.createCommentVNode)("",!0),S.state.form.showPassword?((0,o.openBlock)(),(0,o.createElementBlock)("path",C)):(0,o.createCommentVNode)("",!0)]))])],2),(0,o.createVNode)(A,{name:"password",class:"text-xs text-rose-500"}),null!==(l=S.state.error.message.errors)&&void 0!==l&&l.password?((0,o.openBlock)(),(0,o.createElementBlock)("span",B,(0,o.toDisplayString)(S.state.error.message.errors.password[0]),1)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",j,[(0,o.createElementVNode)("label",M,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return S.state.form.remember=e}),type:"checkbox",class:"form-checkbox w-4 h-4 border rounded-sm border-slate-300 text-blue-600 focus:outline-none",checked:""},null,512),[[o.vModelCheckbox,S.state.form.remember]]),F]),(0,o.createVNode)(D,{to:{name:"password.reset"},class:"text-sm font-semibold text-blue-600"},{default:(0,o.withCtx)((function(){return[T]})),_:1},8,["to"])]),z,(0,o.createElementVNode)("div",L,[P,(0,o.createVNode)(D,{to:{name:"auth.register",query:e.$route.query.redirect?{redirect:e.$route.query.redirect}:null},class:"text-blue-600"},{default:(0,o.withCtx)((function(){return[I]})),_:1},8,["to"])])]})),_:1},8,["onSubmit","validation-schema"])])])])}]])}}]);